ROP TABLE P_PAYMENT;
DROP TABLE P_LOGIN_HISTORY;
DROP TABLE P_SCHEDULE;
DROP TABLE P_STAFF;
DROP TABLE P_ORDERITEM;
DROP TABLE P_ORDER;
DROP TABLE P_CUSTOMER;
DROP TABLE P_SEATING;
DROP TABLE P_TABLE_LIST;
DROP TABLE P_MENU;

/*modify logical diagram to sync column and table names*/
/*do we have to include both DDL and DML in the code section of this week'*/
/*In the mapping table generated by n-n mapping do we need to have an ID column unless it is referred in the other table?*/
/*For instance no key is needed in login history*/
/*Is needed to specify not null constraints for columns part of the ID column?*/
/*Are two insert statements good enough?s*/
/**************MENU*******************/
CREATE TABLE P_MENU
(	
  ID	       NUMBER(2) NOT NULL,
  TYPE	       CHAR(5) NOT NULL,	
  NAME	       VARCHAR2(25) NOT NULL, 
  DESCRIPTION  VARCHAR2(50),
  PRICE        NUMBER(5,2) NOT NULL,
  CONSTRAINT PK_MENU PRIMARY KEY(ID), 
  CONSTRAINT UK_MNAME UNIQUE(NAME),    
  CONSTRAINT CK_ONLY_POSITIVE CHECK (PRICE > 0),
  CONSTRAINT CK_TYPE CHECK (TYPE IN('Food','Drink'))
);
DELETE FROM P_MENU; 
INSERT INTO P_MENU(ID, TYPE, NAME, DESCRIPTION, PRICE) VALUES(1,'Food','Hand Tossed Pan Pizza','Garlic-seasoned crust with a',17.99);
INSERT INTO P_MENU(ID, TYPE, NAME, DESCRIPTION, PRICE) VALUES(2,'Drink','Red Wine','null',7.99);
INSERT INTO P_MENU(ID, TYPE, NAME, DESCRIPTION, PRICE) VALUES(3,'Food','Cookie Brownie','Satisfy your sweet tooth! Taste the',3.5);
INSERT INTO P_MENU(ID, TYPE, NAME, DESCRIPTION, PRICE) VALUES(4,'Food','Cinnamon Bread Twists','Handmade from fresh buttery-',3.5);
INSERT INTO P_MENU(ID, TYPE, NAME, DESCRIPTION, PRICE) VALUES(5,'Food','Thin Crust Pan Pizza','Garlic-seasoned crust with a',13.99);
INSERT INTO P_MENU(ID, TYPE, NAME, DESCRIPTION, PRICE) VALUES(6,'Drink','Apple Milkshake','null',2.99);
INSERT INTO P_MENU(ID, TYPE, NAME, DESCRIPTION, PRICE) VALUES(7,'Food','Vanilla Ice cream','null',3.99);
INSERT INTO P_MENU(ID, TYPE, NAME, DESCRIPTION, PRICE) VALUES(8,'Food','Sandwitch','Vegetarian Sandwitch',4.5);
INSERT INTO P_MENU(ID, TYPE, NAME, DESCRIPTION, PRICE) VALUES(9,'Food','Fried Chicken','Ghee Roasted Fried Chicken',13.99);
INSERT INTO P_MENU(ID, TYPE, NAME, DESCRIPTION, PRICE) VALUES(10,'Drink','Cocktail','null',7.99);
COMMIT;

/**************CUSTOMER*******************/
CREATE TABLE P_CUSTOMER
(
  ID           NUMBER(4) NOT NULL,
  NAME         VARCHAR2(25) NOT NULL,
  PARTY_SIZE   NUMBER(3) NOT NULL,
  PHONE_NUMBER NUMBER(10),
  WAIT_STATUS  CHAR(4) NOT NULL,
  CONSTRAINT PK_CUSTOMER PRIMARY KEY(ID), 
  CONSTRAINT CK_PHONE_LEN    CHECK(LENGTH(PHONE_NUMBER) = 10),
  CONSTRAINT CK_STATUS_TYPE CHECK(WAIT_STATUS IN('RSVD','WAIT'))
);
DELETE FROM P_CUSTOMER;
INSERT INTO P_CUSTOMER(ID, NAME, PARTY_SIZE, PHONE_NUMBER, WAIT_STATUS) VALUES(101,'John',2,6105619452,'RSVD');
INSERT INTO P_CUSTOMER(ID, NAME, PARTY_SIZE, PHONE_NUMBER, WAIT_STATUS) VALUES(102,'Mary',6,6105619451,'RSVD');
INSERT INTO P_CUSTOMER(ID, NAME, PARTY_SIZE, PHONE_NUMBER, WAIT_STATUS) VALUES(103,'Jason',2,6105129353,'RSVD');
INSERT INTO P_CUSTOMER(ID, NAME, PARTY_SIZE, PHONE_NUMBER, WAIT_STATUS) VALUES(104,'Rose',6,6105419453,'WAIT');
INSERT INTO P_CUSTOMER(ID, NAME, PARTY_SIZE, PHONE_NUMBER, WAIT_STATUS) VALUES(105,'Cheryl',2,6101629453,'WAIT');
INSERT INTO P_CUSTOMER(ID, NAME, PARTY_SIZE, PHONE_NUMBER, WAIT_STATUS) VALUES(106,'Jug',6,6105611453,'RSVD');
INSERT INTO P_CUSTOMER(ID, NAME, PARTY_SIZE, PHONE_NUMBER, WAIT_STATUS) VALUES(107,'Nancy',2,6105127453,'RSVD');
INSERT INTO P_CUSTOMER(ID, NAME, PARTY_SIZE, PHONE_NUMBER, WAIT_STATUS) VALUES(108,'Gus',6,6105621453,'RSVD');
INSERT INTO P_CUSTOMER(ID, NAME, PARTY_SIZE, PHONE_NUMBER, WAIT_STATUS) VALUES(109,'John',2,6105618453,'RSVD');
INSERT INTO P_CUSTOMER(ID, NAME, PARTY_SIZE, PHONE_NUMBER, WAIT_STATUS) VALUES(110,'Jason',6,6105139453,'RSVD');
INSERT INTO P_CUSTOMER(ID, NAME, PARTY_SIZE, PHONE_NUMBER, WAIT_STATUS) VALUES(111,'Steve',2,6105129453,'RSVD');
INSERT INTO P_CUSTOMER(ID, NAME, PARTY_SIZE, PHONE_NUMBER, WAIT_STATUS) VALUES(112,'Mary',6,7415619453,'RSVD');
INSERT INTO P_CUSTOMER(ID, NAME, PARTY_SIZE, PHONE_NUMBER, WAIT_STATUS) VALUES(113,'John',2,7415629453,'RSVD');
INSERT INTO P_CUSTOMER(ID, NAME, PARTY_SIZE, PHONE_NUMBER, WAIT_STATUS) VALUES(114,'Jack',6,7415639453,'RSVD');
INSERT INTO P_CUSTOMER(ID, NAME, PARTY_SIZE, PHONE_NUMBER, WAIT_STATUS) VALUES(115,'John',2,7415639453,'RSVD');
COMMIT;
/**************TABLE_LIST*******************/
CREATE TABLE P_TABLE_LIST
(
  ID              NUMBER(2),
  NUMBER_OF_SEATS NUMBER(2) NOT NULL,
  LAYOUT          CHAR(6),
  OCCUPANCY       CHAR(4) DEFAULT 'Full',    
  CONSTRAINT PK_TBL_ID PRIMARY KEY(ID), 
  CONSTRAINT CK_NUM_SEATS CHECK(NUMBER_OF_SEATS > 0),
  CONSTRAINT CK_OCCUPANCY CHECK(OCCUPANCY IN ('Free','Full'))
);
DELETE FROM P_TABLE_LIST;
INSERT INTO P_TABLE_LIST(ID, NUMBER_OF_SEATS, LAYOUT, OCCUPANCY) VALUES(1,4,'Circle','Free');
INSERT INTO P_TABLE_LIST(ID, NUMBER_OF_SEATS, LAYOUT, OCCUPANCY) VALUES(2,4,'Square','Free');
INSERT INTO P_TABLE_LIST(ID, NUMBER_OF_SEATS, LAYOUT, OCCUPANCY) VALUES(3,5,'Circle','Full');
INSERT INTO P_TABLE_LIST(ID, NUMBER_OF_SEATS, LAYOUT, OCCUPANCY) VALUES(4,2,'Circle','Full');
INSERT INTO P_TABLE_LIST(ID, NUMBER_OF_SEATS, LAYOUT, OCCUPANCY) VALUES(5,10,'Square','Full');
INSERT INTO P_TABLE_LIST(ID, NUMBER_OF_SEATS, LAYOUT, OCCUPANCY) VALUES(6,2,'Circle','Free');
INSERT INTO P_TABLE_LIST(ID, NUMBER_OF_SEATS, LAYOUT, OCCUPANCY) VALUES(7,12,'Circle','Free');
INSERT INTO P_TABLE_LIST(ID, NUMBER_OF_SEATS, LAYOUT, OCCUPANCY) VALUES(8,6,'Square','Free');
INSERT INTO P_TABLE_LIST(ID, NUMBER_OF_SEATS, LAYOUT, OCCUPANCY) VALUES(9,8,'Circle','Full');
INSERT INTO P_TABLE_LIST(ID, NUMBER_OF_SEATS, LAYOUT, OCCUPANCY) VALUES(10,4,'Square','Full');
INSERT INTO P_TABLE_LIST(ID, NUMBER_OF_SEATS, LAYOUT, OCCUPANCY) VALUES(11,2,'Circle','Full');
INSERT INTO P_TABLE_LIST(ID, NUMBER_OF_SEATS, LAYOUT, OCCUPANCY) VALUES(12,10,'Circle','Free');
INSERT INTO P_TABLE_LIST(ID, NUMBER_OF_SEATS, LAYOUT, OCCUPANCY) VALUES(13,4,'Square','Free');
INSERT INTO P_TABLE_LIST(ID, NUMBER_OF_SEATS, LAYOUT, OCCUPANCY) VALUES(14,5,'Circle','Free');
INSERT INTO P_TABLE_LIST(ID, NUMBER_OF_SEATS, LAYOUT, OCCUPANCY) VALUES(15,2,'Circle','Free');
COMMIT;
/**************STAFF*******************/
CREATE TABLE P_STAFF
(
  ID     NUMBER(4), 
  ROLE   VARCHAR2(8) NOT NULL,    
  FIRSTNAME   VARCHAR2(30) NOT NULL, 
  LASTNAME   VARCHAR2(30) NOT NULL,     
  SALARY NUMBER(5) default 0, 
  USERNAME CHAR(10) NOT NULL, 
  PASSWORD CHAR(10),
  CONSTRAINT PK_STAFF PRIMARY KEY(ID), 
  CONSTRAINT CK_STAFF_ROLE CHECK(ROLE IN('Tech','Staff','Server','Mgmt')),  
  CONSTRAINT CK_LEN_USER CHECK(LENGTH(USERNAME)BETWEEN 6 and 10),
  CONSTRAINT CK_LEN_PSWD CHECK(LENGTH(PASSWORD)BETWEEN 6 and 10)
);
DELETE FROM P_STAFF;
INSERT INTO P_STAFF(ID,ROLE, FIRSTNAME, LASTNAME, SALARY, USERNAME, PASSWORD) VALUES(1001,'Server','Kate ','Ericson',2500,'kateb1','kate0601');
INSERT INTO P_STAFF(ID,ROLE, FIRSTNAME, LASTNAME, SALARY, USERNAME, PASSWORD) VALUES(1002,'Server','Robert','Steve',2500,'robstev','steve01');
INSERT INTO P_STAFF(ID,ROLE, FIRSTNAME, LASTNAME, SALARY, USERNAME, PASSWORD) VALUES(1003,'Server','Eugen','Bill',2500,'eugeve','eugen01');
INSERT INTO P_STAFF(ID,ROLE, FIRSTNAME, LASTNAME, SALARY, USERNAME, PASSWORD) VALUES(1004,'Server','Nancy','Steve',2500,'nancy3','nancy01');
INSERT INTO P_STAFF(ID,ROLE, FIRSTNAME, LASTNAME, SALARY, USERNAME, PASSWORD) VALUES(1005,'Server','Bill ','Sorin',2500,'bill012','kate0601');
INSERT INTO P_STAFF(ID,ROLE, FIRSTNAME, LASTNAME, SALARY, USERNAME, PASSWORD) VALUES(1006,'Staff','Michael','Jones',2000,'michael','kate0601');
INSERT INTO P_STAFF(ID,ROLE, FIRSTNAME, LASTNAME, SALARY, USERNAME, PASSWORD) VALUES(1007,'Staff','Albert','Barbasi',2000,'albert','kate0601');
INSERT INTO P_STAFF(ID,ROLE, FIRSTNAME, LASTNAME, SALARY, USERNAME, PASSWORD) VALUES(1008,'Mgmt','Robin Will','Will',5000,'robwill','rogii1');
INSERT INTO P_STAFF(ID,ROLE, FIRSTNAME, LASTNAME, SALARY, USERNAME, PASSWORD) VALUES(1009,'Tech','Jeff ','Bingham',0,'jeffbin','rgilll');
INSERT INTO P_STAFF(ID,ROLE, FIRSTNAME, LASTNAME, SALARY, USERNAME, PASSWORD) VALUES(1010,'Tech','Migaeil','Ghilani',0,'migael','kate0601');
INSERT INTO P_STAFF(ID,ROLE, FIRSTNAME, LASTNAME, SALARY, USERNAME, PASSWORD) VALUES(1011,'Staff','Will',' Smith',2000,'willsmi','will032');
INSERT INTO P_STAFF(ID,ROLE, FIRSTNAME, LASTNAME, SALARY, USERNAME, PASSWORD) VALUES(1012,'Server','Robert',' Steve',2500,'robstev','kate0601');
COMMIT;
/***************SCHEDULE****************/
CREATE TABLE P_SCHEDULE
( 
  STAFF_ID    NUMBER(4),
  SHIFT_START_TIME DATE, 
  SHIFT_END_TIME DATE,
  CONSTRAINT PK_SDSE_ID PRIMARY KEY(STAFF_ID, SHIFT_START_TIME, SHIFT_END_TIME),
  CONSTRAINT FK_STAFF_ID FOREIGN KEY(STAFF_ID) REFERENCES P_STAFF(ID) ON DELETE CASCADE ENABLE  
);

INSERT INTO P_SCHEDULE(STAFF_ID, SHIFT_START_TIME, SHIFT_END_TIME) VALUES(1001,TO_DATE('2021-09-12 6:00:00', 'YYYY-MM-DD HH24:MI:SS'),TO_DATE('2021-09-12 9:00:00', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO P_SCHEDULE(STAFF_ID, SHIFT_START_TIME, SHIFT_END_TIME) VALUES(1002,TO_DATE('2021-09-12 6:00:00', 'YYYY-MM-DD HH24:MI:SS'),TO_DATE('2021-09-12 9:00:00', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO P_SCHEDULE(STAFF_ID, SHIFT_START_TIME, SHIFT_END_TIME) VALUES(1003,TO_DATE('2021-09-12 6:00:00', 'YYYY-MM-DD HH24:MI:SS'),TO_DATE('2021-09-12 9:00:00', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO P_SCHEDULE(STAFF_ID, SHIFT_START_TIME, SHIFT_END_TIME) VALUES(1004,TO_DATE('2021-09-12 6:00:00', 'YYYY-MM-DD HH24:MI:SS'),TO_DATE('2021-09-12 9:00:00', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO P_SCHEDULE(STAFF_ID, SHIFT_START_TIME, SHIFT_END_TIME) VALUES(1005,TO_DATE('2021-09-12 6:00:00', 'YYYY-MM-DD HH24:MI:SS'),TO_DATE('2021-09-12 9:00:00', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO P_SCHEDULE(STAFF_ID, SHIFT_START_TIME, SHIFT_END_TIME) VALUES(1006,TO_DATE('2021-09-12 6:00:00', 'YYYY-MM-DD HH24:MI:SS'),TO_DATE('2021-09-12 9:00:00', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO P_SCHEDULE(STAFF_ID, SHIFT_START_TIME, SHIFT_END_TIME) VALUES(1007,TO_DATE('2021-09-12 6:00:00', 'YYYY-MM-DD HH24:MI:SS'),TO_DATE('2021-09-12 9:00:00', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO P_SCHEDULE(STAFF_ID, SHIFT_START_TIME, SHIFT_END_TIME) VALUES(1011,TO_DATE('2021-09-12 6:00:00', 'YYYY-MM-DD HH24:MI:SS'),TO_DATE('2021-09-12 9:00:00', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO P_SCHEDULE(STAFF_ID, SHIFT_START_TIME, SHIFT_END_TIME) VALUES(1012,TO_DATE('2021-09-12 6:00:00', 'YYYY-MM-DD HH24:MI:SS'),TO_DATE('2021-09-12 9:00:00', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO P_SCHEDULE(STAFF_ID, SHIFT_START_TIME, SHIFT_END_TIME) VALUES(1001,TO_DATE('2021-10-12 6:00:00', 'YYYY-MM-DD HH24:MI:SS'),TO_DATE('2021-10-12 9:00:00', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO P_SCHEDULE(STAFF_ID, SHIFT_START_TIME, SHIFT_END_TIME) VALUES(1002,TO_DATE('2021-10-12 6:00:00', 'YYYY-MM-DD HH24:MI:SS'),TO_DATE('2021-10-12 9:00:00', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO P_SCHEDULE(STAFF_ID, SHIFT_START_TIME, SHIFT_END_TIME) VALUES(1003,TO_DATE('2021-10-12 6:00:00', 'YYYY-MM-DD HH24:MI:SS'),TO_DATE('2021-10-12 9:00:00', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO P_SCHEDULE(STAFF_ID, SHIFT_START_TIME, SHIFT_END_TIME) VALUES(1004,TO_DATE('2021-10-12 6:00:00', 'YYYY-MM-DD HH24:MI:SS'),TO_DATE('2021-10-12 9:00:00', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO P_SCHEDULE(STAFF_ID, SHIFT_START_TIME, SHIFT_END_TIME) VALUES(1005,TO_DATE('2021-10-12 6:00:00', 'YYYY-MM-DD HH24:MI:SS'),TO_DATE('2021-10-12 9:00:00', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO P_SCHEDULE(STAFF_ID, SHIFT_START_TIME, SHIFT_END_TIME) VALUES(1006,TO_DATE('2021-10-12 6:00:00', 'YYYY-MM-DD HH24:MI:SS'),TO_DATE('2021-10-12 9:00:00', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO P_SCHEDULE(STAFF_ID, SHIFT_START_TIME, SHIFT_END_TIME) VALUES(1007,TO_DATE('2021-10-12 6:00:00', 'YYYY-MM-DD HH24:MI:SS'),TO_DATE('2021-10-12 9:00:00', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO P_SCHEDULE(STAFF_ID, SHIFT_START_TIME, SHIFT_END_TIME) VALUES(1011,TO_DATE('2021-10-12 6:00:00', 'YYYY-MM-DD HH24:MI:SS'),TO_DATE('2021-10-12 9:00:00', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO P_SCHEDULE(STAFF_ID, SHIFT_START_TIME, SHIFT_END_TIME) VALUES(1012,TO_DATE('2021-10-12 6:00:00', 'YYYY-MM-DD HH24:MI:SS'),TO_DATE('2021-10-12 9:00:00', 'YYYY-MM-DD HH24:MI:SS'));
COMMIT;
/**************SEATING*******************/
CREATE TABLE P_SEATING
(
  ID         NUMBER(2),
  ARRANGEMENT VARCHAR2(25),
  POSITION    VARCHAR2(15),    
  CONSTRAINT PK_SEAT_ID PRIMARY KEY(ID)
);
DELETE FROM P_SEATING;
INSERT INTO P_SEATING(ID, ARRANGEMENT, POSITION) VALUES(1,'Corner arrangement','East  Corner');
INSERT INTO P_SEATING(ID, ARRANGEMENT, POSITION) VALUES(2,'Side by side ','West  Corner');
INSERT INTO P_SEATING(ID, ARRANGEMENT, POSITION) VALUES(3,'Corner arrangement','Center of hall');
INSERT INTO P_SEATING(ID, ARRANGEMENT, POSITION) VALUES(4,'Corner arrangement','Window view');
INSERT INTO P_SEATING(ID, ARRANGEMENT, POSITION) VALUES(5,'Side by side ','East  Corner');
INSERT INTO P_SEATING(ID, ARRANGEMENT, POSITION) VALUES(6,'Corner arrangement','East  Corner');
COMMIT;
/**************SEATMAP*******************/
CREATE TABLE P_SEATMAP
( 
  SEATING_ID NUMBER(2),
  TABLE_NO NUMBER(2),
  CONSTRAINT PK_SEATMAP_ID PRIMARY KEY(SEATING_ID, TABLE_NO),
  CONSTRAINT FK_TABLE_ID FOREIGN KEY(TABLE_NO) REFERENCES P_TABLE_LIST(ID) ON DELETE CASCADE ENABLE,  
  CONSTRAINT FK_SEATING_ID FOREIGN KEY(SEATING_ID) REFERENCES P_SEATING(ID)  ON DELETE CASCADE ENABLE 
);
INSERT INTO P_SEATMAP(SEATING_ID, TABLE_NO) VALUES(1,2);
INSERT INTO P_SEATMAP(SEATING_ID, TABLE_NO) VALUES(1,4);
INSERT INTO P_SEATMAP(SEATING_ID, TABLE_NO) VALUES(2,4);
INSERT INTO P_SEATMAP(SEATING_ID, TABLE_NO) VALUES(2,3);
INSERT INTO P_SEATMAP(SEATING_ID, TABLE_NO) VALUES(2,6);
INSERT INTO P_SEATMAP(SEATING_ID, TABLE_NO) VALUES(3,5);
INSERT INTO P_SEATMAP(SEATING_ID, TABLE_NO) VALUES(3,8);
INSERT INTO P_SEATMAP(SEATING_ID, TABLE_NO) VALUES(4,2);
INSERT INTO P_SEATMAP(SEATING_ID, TABLE_NO) VALUES(4,4);
INSERT INTO P_SEATMAP(SEATING_ID, TABLE_NO) VALUES(5,1);
INSERT INTO P_SEATMAP(SEATING_ID, TABLE_NO) VALUES(6,2);
/**************ORDER*******************/
CREATE TABLE P_ORDER
(
  ID          NUMBER(4), 
  TABLE_ID    NUMBER(2),
  CUSTOMER_ID NUMBER(4), 
  RSVD_DATE   DATE NOT NULL, 
  ORDER_DATE  DATE NOT NULL, 
  STAFF_ID    number(4) NOT NULL,
  SERVER_ID   NUMBER(4) NOT NULL,   
  STATUS      CHAR(10),
  CONSTRAINT PK_ORDER_ID PRIMARY KEY(ID),  
  CONSTRAINT FK_TBL_ID FOREIGN KEY(TABLE_ID) REFERENCES P_TABLE_LIST(ID)  ON DELETE CASCADE ENABLE,
  CONSTRAINT FK_CST_ID FOREIGN KEY(CUSTOMER_ID) REFERENCES P_CUSTOMER(ID) ON DELETE CASCADE ENABLE,
  CONSTRAINT CK_ORDER_STATUS CHECK (STATUS IN('Preparing','Ready for Pickup','Served', 'Canceled'))    
);


delete from p_order;
INSERT INTO P_ORDER (ID, TABLE_ID, CUSTOMER_ID, RSVD_DATE, ORDER_DATE, STAFF_ID, SERVER_ID, STATUS) VALUES(101,11,101,SYSTIMESTAMP,SYSTIMESTAMP + 60 ,1006,1001,'Preparing');
INSERT INTO P_ORDER (ID, TABLE_ID, CUSTOMER_ID, RSVD_DATE, ORDER_DATE, STAFF_ID, SERVER_ID, STATUS) VALUES(102,12,102,SYSTIMESTAMP,SYSTIMESTAMP + 60 ,1006,1002,'Served');
INSERT INTO P_ORDER (ID, TABLE_ID, CUSTOMER_ID, RSVD_DATE, ORDER_DATE, STAFF_ID, SERVER_ID, STATUS) VALUES(103,13,103,SYSTIMESTAMP,SYSTIMESTAMP + 90 ,1006,1003,'Canceled');
INSERT INTO P_ORDER (ID, TABLE_ID, CUSTOMER_ID, RSVD_DATE, ORDER_DATE, STAFF_ID, SERVER_ID, STATUS) VALUES(104,14,104,SYSTIMESTAMP,SYSTIMESTAMP + 60 ,1007,1004,'Served');
INSERT INTO P_ORDER (ID, TABLE_ID, CUSTOMER_ID, RSVD_DATE, ORDER_DATE, STAFF_ID, SERVER_ID, STATUS) VALUES(105,15,105,SYSTIMESTAMP,SYSTIMESTAMP + 60 ,1007,1005,'Served');
INSERT INTO P_ORDER (ID, TABLE_ID, CUSTOMER_ID, RSVD_DATE, ORDER_DATE, STAFF_ID, SERVER_ID, STATUS) VALUES(106,15,101,SYSTIMESTAMP,SYSTIMESTAMP + 90 ,1007,1012,'Served');
INSERT INTO P_ORDER (ID, TABLE_ID, CUSTOMER_ID, RSVD_DATE, ORDER_DATE, STAFF_ID, SERVER_ID, STATUS) VALUES(107,11,101,SYSTIMESTAMP,SYSTIMESTAMP + 60 ,1007,1001,'Preparing');
INSERT INTO P_ORDER (ID, TABLE_ID, CUSTOMER_ID, RSVD_DATE, ORDER_DATE, STAFF_ID, SERVER_ID, STATUS) VALUES(108,11,102,SYSTIMESTAMP,SYSTIMESTAMP + 60 ,1007,1001,'Canceled');
INSERT INTO P_ORDER (ID, TABLE_ID, CUSTOMER_ID, RSVD_DATE, ORDER_DATE, STAFF_ID, SERVER_ID, STATUS) VALUES(109,13,103,SYSTIMESTAMP,SYSTIMESTAMP + 60 ,1007,1002,'Preparing');
INSERT INTO P_ORDER (ID, TABLE_ID, CUSTOMER_ID, RSVD_DATE, ORDER_DATE, STAFF_ID, SERVER_ID, STATUS) VALUES(110,14,104,SYSTIMESTAMP,SYSTIMESTAMP + 60 ,1011,1003,'Served');
INSERT INTO P_ORDER (ID, TABLE_ID, CUSTOMER_ID, RSVD_DATE, ORDER_DATE, STAFF_ID, SERVER_ID, STATUS) VALUES(111,15,105,SYSTIMESTAMP,SYSTIMESTAMP + 60 ,1011,1012,'Served');
INSERT INTO P_ORDER (ID, TABLE_ID, CUSTOMER_ID, RSVD_DATE, ORDER_DATE, STAFF_ID, SERVER_ID, STATUS) VALUES(112,12,101,SYSTIMESTAMP,SYSTIMESTAMP + 60 ,1011,1001,'Served');
commit;
/*************ORDEREDITEM*******************/
CREATE TABLE P_ORDERITEM
(
  ORDER_ID   NUMBER(4) NOT NULL, 
  MENU_ID    NUMBER(4) NOT NULL, 
  QUANTITY   NUMBER(2) DEFAULT 1,
  CONSTRAINT PK_ORD_MENU_ID PRIMARY KEY(ORDER_ID, MENU_ID),  
  CONSTRAINT FK_MENU FOREIGN KEY(MENU_ID) REFERENCES P_MENU(ID)  ON DELETE CASCADE ENABLE,
  CONSTRAINT FK_ORDER FOREIGN KEY(ORDER_ID) REFERENCES P_ORDER(ID)  ON DELETE CASCADE ENABLE
);															
DELETE FROM P_ORDERITEM;
INSERT INTO P_ORDERITEM(ORDER_ID,MENU_ID,QUANTITY) VALUES(101,6,2);
INSERT INTO P_ORDERITEM(ORDER_ID,MENU_ID,QUANTITY) VALUES(101,1,1);
INSERT INTO P_ORDERITEM(ORDER_ID,MENU_ID,QUANTITY) VALUES(101,2,3);
INSERT INTO P_ORDERITEM(ORDER_ID,MENU_ID,QUANTITY) VALUES(102,3,1);
INSERT INTO P_ORDERITEM(ORDER_ID,MENU_ID,QUANTITY) VALUES(103,8,1);
INSERT INTO P_ORDERITEM(ORDER_ID,MENU_ID,QUANTITY) VALUES(104,3,4);
INSERT INTO P_ORDERITEM(ORDER_ID,MENU_ID,QUANTITY) VALUES(104,2,1);
INSERT INTO P_ORDERITEM(ORDER_ID,MENU_ID,QUANTITY) VALUES(105,9,4);
INSERT INTO P_ORDERITEM(ORDER_ID,MENU_ID,QUANTITY) VALUES(106,2,4);
INSERT INTO P_ORDERITEM(ORDER_ID,MENU_ID,QUANTITY) VALUES(107,3,1);
INSERT INTO P_ORDERITEM(ORDER_ID,MENU_ID,QUANTITY) VALUES(108,8,4);
INSERT INTO P_ORDERITEM(ORDER_ID,MENU_ID,QUANTITY) VALUES(108,6,4);
INSERT INTO P_ORDERITEM(ORDER_ID,MENU_ID,QUANTITY) VALUES(109,7,1);
INSERT INTO P_ORDERITEM(ORDER_ID,MENU_ID,QUANTITY) VALUES(110,5,2);
INSERT INTO P_ORDERITEM(ORDER_ID,MENU_ID,QUANTITY) VALUES(111,7,3);
INSERT INTO P_ORDERITEM(ORDER_ID,MENU_ID,QUANTITY) VALUES(112,3,1);
INSERT INTO P_ORDERITEM(ORDER_ID,MENU_ID,QUANTITY) VALUES(112,8,1);
COMMIT;
/**************PAYMENT*******************/
CREATE TABLE P_PAYMENT
(
  ORDER_ID   NUMBER(4) NOT NULL, 
  CONF_NR    NUMBER(6) NOT NULL, 
  TOTAL_PAID NUMBER(4) NOT NULL,
  PAYMENT_MODE CHAR(4) NOT NULL,
  TRANSACTION_STATUS CHAR(7) NOT NULL,
  CONSTRAINT PK_PAY_ID PRIMARY KEY(ORDER_ID, CONF_NR),  
  CONSTRAINT FK_ORD_ID FOREIGN KEY(ORDER_ID) REFERENCES P_ORDER(ID)    
);
DELETE FROM P_PAYMENT;
INSERT INTO P_PAYMENT(ORDER_ID,CONF_NR, TOTAL_PAID, PAYMENT_MODE, TRANSACTION_STATUS) VALUES (101,11,25,'Cash','Success');
INSERT INTO P_PAYMENT(ORDER_ID,CONF_NR, TOTAL_PAID, PAYMENT_MODE, TRANSACTION_STATUS) VALUES (101,21,25,'Card','Success');
INSERT INTO P_PAYMENT(ORDER_ID,CONF_NR, TOTAL_PAID, PAYMENT_MODE, TRANSACTION_STATUS) VALUES (102,31,5,'Card','Success');
INSERT INTO P_PAYMENT(ORDER_ID,CONF_NR, TOTAL_PAID, PAYMENT_MODE, TRANSACTION_STATUS) VALUES (103,41,4.5,'Card','Success');
INSERT INTO P_PAYMENT(ORDER_ID,CONF_NR, TOTAL_PAID, PAYMENT_MODE, TRANSACTION_STATUS) VALUES (104,51,25,'Card','Success');
INSERT INTO P_PAYMENT(ORDER_ID,CONF_NR, TOTAL_PAID, PAYMENT_MODE, TRANSACTION_STATUS) VALUES (105,61,30,'Card','Failure');
INSERT INTO P_PAYMENT(ORDER_ID,CONF_NR, TOTAL_PAID, PAYMENT_MODE, TRANSACTION_STATUS) VALUES (105,71,30,'Card','Success');
INSERT INTO P_PAYMENT(ORDER_ID,CONF_NR, TOTAL_PAID, PAYMENT_MODE, TRANSACTION_STATUS) VALUES (106,81,35,'Card','Success');
INSERT INTO P_PAYMENT(ORDER_ID,CONF_NR, TOTAL_PAID, PAYMENT_MODE, TRANSACTION_STATUS) VALUES (107,91,5,'Card','Success');
INSERT INTO P_PAYMENT(ORDER_ID,CONF_NR, TOTAL_PAID, PAYMENT_MODE, TRANSACTION_STATUS) VALUES (108,101,35,'Card','Success');
INSERT INTO P_PAYMENT(ORDER_ID,CONF_NR, TOTAL_PAID, PAYMENT_MODE, TRANSACTION_STATUS) VALUES (109,111,5,'Card','Success');
INSERT INTO P_PAYMENT(ORDER_ID,CONF_NR, TOTAL_PAID, PAYMENT_MODE, TRANSACTION_STATUS) VALUES (110,121,35,'Card','Failure');
INSERT INTO P_PAYMENT(ORDER_ID,CONF_NR, TOTAL_PAID, PAYMENT_MODE, TRANSACTION_STATUS) VALUES (111,131,15,'Cash','Success');
INSERT INTO P_PAYMENT(ORDER_ID,CONF_NR, TOTAL_PAID, PAYMENT_MODE, TRANSACTION_STATUS) VALUES (112,141,8,'Card','Success');
COMMIT;
/**************LOGIN_HISTORY****************/
CREATE TABLE P_LOGIN_HISTORY
(
  STAFF_ID   NUMBER(4), 
  TIMESTAMP  DATE DEFAULT SYSDATE, 
  STATUS     CHAR(7),
  CONSTRAINT PK_STFF_ID PRIMARY KEY(STAFF_ID, TIMESTAMP),
  CONSTRAINT FK_STFF_ID FOREIGN KEY(STAFF_ID) REFERENCES P_STAFF(ID)  
);
DELETE FROM P_LOGIN_HISTORY;
INSERT INTO P_LOGIN_HISTORY(STAFF_ID, TIMESTAMP, STATUS) VALUES(1001,SYSDATE,'Success');
INSERT INTO P_LOGIN_HISTORY(STAFF_ID, TIMESTAMP, STATUS) VALUES(1002,SYSDATE,'Success');
INSERT INTO P_LOGIN_HISTORY(STAFF_ID, TIMESTAMP, STATUS) VALUES(1003,SYSDATE,'Success');
INSERT INTO P_LOGIN_HISTORY(STAFF_ID, TIMESTAMP, STATUS) VALUES(1004,SYSDATE,'Failure');
INSERT INTO P_LOGIN_HISTORY(STAFF_ID, TIMESTAMP, STATUS) VALUES(1005,SYSDATE,'Success');
INSERT INTO P_LOGIN_HISTORY(STAFF_ID, TIMESTAMP, STATUS) VALUES(1006,SYSDATE,'Success');
INSERT INTO P_LOGIN_HISTORY(STAFF_ID, TIMESTAMP, STATUS) VALUES(1007,SYSDATE,'Success');
INSERT INTO P_LOGIN_HISTORY(STAFF_ID, TIMESTAMP, STATUS) VALUES(1008,SYSDATE,'Success');
INSERT INTO P_LOGIN_HISTORY(STAFF_ID, TIMESTAMP, STATUS) VALUES(1009,SYSDATE,'Failure');
INSERT INTO P_LOGIN_HISTORY(STAFF_ID, TIMESTAMP, STATUS) VALUES(1010,SYSDATE,'Success');
INSERT INTO P_LOGIN_HISTORY(STAFF_ID, TIMESTAMP, STATUS) VALUES(1011,SYSDATE,'Success');
INSERT INTO P_LOGIN_HISTORY(STAFF_ID, TIMESTAMP, STATUS) VALUES(1001,SYSDATE + 1,'Failure');
INSERT INTO P_LOGIN_HISTORY(STAFF_ID, TIMESTAMP, STATUS) VALUES(1002,SYSDATE + 2,'Success');
INSERT INTO P_LOGIN_HISTORY(STAFF_ID, TIMESTAMP, STATUS) VALUES(1002,SYSDATE + 3,'Success');
INSERT INTO P_LOGIN_HISTORY(STAFF_ID, TIMESTAMP, STATUS) VALUES(1002,SYSDATE + 4,'Success');

commit;
